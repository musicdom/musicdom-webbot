<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –î–æ–º</title>
  <style>
    /* –í—Å–µ —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
    * {margin: 0; padding: 0; box-sizing: border-box;}
    body {
      height: 100vh;
      font-family: 'Inter', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #a855f7, #ec4899, #f97316);
      background-size: 200% 200%;
      animation: gradientMove 10s ease infinite;
      color: white;
      overflow: hidden;
    }
    @keyframes gradientMove {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    .loader, .menu, .section {
      position: absolute;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      text-align: center;
      transition: opacity 1s ease;
      width: 100%;
      height: 100%;
      padding: 20px;
    }
    .loader img {
      width: 160px;
      height: auto;
      border-radius: 20px;
      box-shadow: 0 0 25px rgba(255,255,255,0.3);
      margin-bottom: 30px;
    }
    .menu, .section {opacity: 0; pointer-events: none;}
    .menu.active, .section.active {opacity: 1; pointer-events: all;}

    .loading-text {
      font-size: 1.2rem;
      margin-bottom: 15px;
      color: white;
    }

    .loading-bar {
      width: 300px;
      height: 6px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 3px;
      overflow: hidden;
    }

    .loading-progress {
      height: 100%;
      width: 0%;
      background: white;
      border-radius: 3px;
      animation: loading 2s ease-in-out forwards;
    }

    @keyframes loading {
      0% { width: 0%; }
      100% { width: 100%; }
    }

    .menu-logo {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 30px;
      box-shadow: 0 0 25px rgba(255,255,255,0.4);
      border: 3px solid rgba(255,255,255,0.2);
    }

    button {
      background: rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.3);
      color: white;
      font-size: 1rem;
      padding: 14px 35px;
      margin: 10px;
      border-radius: 40px;
      backdrop-filter: blur(15px);
      box-shadow: 0 0 20px rgba(255,255,255,0.15);
      cursor: pointer;
      transition: all 0.3s ease;
      min-width: 200px;
      max-width: 300px;
      width: auto;
      display: inline-block;
      text-align: center;
    }

    button:hover {
      background: rgba(255, 255, 255, 0.25);
      box-shadow: 0 0 25px rgba(255,255,255,0.25);
      transform: scale(1.03);
    }

    #buySection button, .buy-button, .price-plan button {
      background: linear-gradient(135deg, rgba(255,255,255,0.25), rgba(255,255,255,0.1));
      border: 1px solid rgba(255,255,255,0.4);
      box-shadow: 0 0 30px rgba(255,255,255,0.2);
    }

    #buySection button:hover, .buy-button:hover, .price-plan button:hover {
      background: linear-gradient(135deg, rgba(255,255,255,0.35), rgba(255,255,255,0.15));
    }

    .music-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.3);
      backdrop-filter: blur(15px);
      box-shadow: 0 0 15px rgba(255,255,255,0.15);
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.5rem;
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .music-toggle:hover {
      background: rgba(255, 255, 255, 0.25);
      box-shadow: 0 0 20px rgba(255,255,255,0.25);
      transform: scale(1.1);
    }

    .fixed-back-button {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 100;
      white-space: nowrap;
    }
    
    .fixed-back-button:hover {
      transform: translateX(-50%) scale(1.03);
    }

    h1 {margin-bottom: 15px; color: white;}
    p {max-width: 600px; font-size: 1rem; opacity: 0.9; color: white;}
    input {
      padding:10px 20px;
      border-radius:20px;
      border:none;
      font-size:1rem;
      margin:10px 0;
      text-align:center;
      background: rgba(255,255,255,0.2);
      color: white;
    }
    input::placeholder {color: rgba(255,255,255,0.7);}
    a.download-btn {
      background: rgba(255,255,255,0.2);
      color: white;
      padding: 10px 30px;
      border-radius: 25px;
      text-decoration: none;
      display: inline-block;
      margin-top: 10px;
      transition: all 0.3s;
    }
    a.download-btn:hover {background: rgba(255,255,255,0.35);}

    #works, #price {
      justify-content: flex-start;
      padding-top: 0;
      padding-bottom: 100px;
      overflow-y: auto;
    }

    .works-header {
      position: sticky;
      top: 0;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(15px);
      width: 100%;
      padding: 20px;
      z-index: 10;
      margin-bottom: 20px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    }

    .works-container, .price-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      max-width: 1200px;
      width: 100%;
      padding: 0 20px;
      align-items: start;
    }

    .work-card, .price-plan {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      padding: 20px;
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 0 20px rgba(255,255,255,0.1);
      transition: all 0.3s ease;
      opacity: 0;
      transform: translateY(30px);
      animation: cardAppear 0.6s ease forwards;
    }

    @keyframes cardAppear {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .work-card:hover, .price-plan:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 25px rgba(255,255,255,0.2);
    }

    .work-image {
      width: 100%;
      height: 160px;
      object-fit: cover;
      border-radius: 12px;
      margin-bottom: 12px;
      background: rgba(255,255,255,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      color: rgba(255,255,255,0.7);
      font-size: 3rem;
    }

    .work-title {
      font-size: 1.2rem;
      margin-bottom: 8px;
      color: white;
      min-height: 2.8rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .work-description {
      font-size: 0.85rem;
      margin-bottom: 12px;
      opacity: 0.9;
      line-height: 1.4;
      color: white;
      min-height: 3.5rem;
      display: flex;
      align-items: center;
    }

    .work-audio {
      width: 100%;
      margin: 12px 0;
      border-radius: 8px;
      height: 40px;
    }

    .work-price {
      font-size: 1.1rem;
      font-weight: bold;
      margin: 8px 0;
      color: #ffd700;
    }

    .social-container {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 25px 0;
      flex-wrap: wrap;
    }

    .social-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      padding: 15px;
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 0 15px rgba(255,255,255,0.1);
      transition: all 0.3s ease;
      width: 100px;
      height: 100px;
      text-decoration: none;
      color: white;
    }

    .social-card:hover {
      transform: translateY(-5px);
      background: rgba(255, 255, 255, 0.15);
      box-shadow: 0 0 20px rgba(255,255,255,0.2);
    }

    .social-icon {
      font-size: 2rem;
      margin-bottom: 8px;
    }

    .social-name {
      font-size: 0.8rem;
      opacity: 0.9;
    }

    .price-plan {
      text-align: left;
      color: white;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .price-plan h2 {
      margin-bottom: 15px;
      color: white;
      font-size: 1.3rem;
    }

    .price-plan p {
      font-size: 0.95rem;
      margin-bottom: 20px;
      line-height: 1.4;
      flex-grow: 1;
    }
    
    /* –°—Ç–∏–ª—å –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –º—É–∑—ã–∫–µ */
    .music-notification {
      position: fixed;
      top: 80px;
      right: 20px;
      background: rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.3);
      backdrop-filter: blur(15px);
      box-shadow: 0 0 15px rgba(255,255,255,0.15);
      border-radius: 10px;
      padding: 10px 15px;
      color: white;
      font-size: 0.9rem;
      z-index: 999;
      animation: fadeInOut 4s forwards;
      max-width: 200px;
    }
    
    @keyframes fadeInOut {
      0% { opacity: 0; transform: translateY(-10px); }
      20% { opacity: 1; transform: translateY(0); }
      80% { opacity: 1; transform: translateY(0); }
      100% { opacity: 0; transform: translateY(-10px); }
    }
  </style>
</head>
<body>
  <!-- –≠–ª–µ–º–µ–Ω—Ç –∞—É–¥–∏–æ –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–π –º—É–∑—ã–∫–∏ -->
  <audio id="backgroundMusic" loop>
    <source src="song/background.mp3" type="audio/mpeg">
    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç.
  </audio>

  <div class="music-toggle" id="musicToggle" onclick="toggleMusic()">üîá</div>

  <div class="loader">
    <img src="logo.jpg" alt="–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –î–æ–º">
    <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    <div class="loading-bar">
      <div class="loading-progress"></div>
    </div>
  </div>

  <div class="menu" id="menu">
    <img src="logo.jpg" alt="–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –î–æ–º" class="menu-logo">
    
    <button onclick="openSection('find')">üîç –ù–∞–π—Ç–∏ —Å–≤–æ—é –ø–µ—Å–Ω—é</button>
    <button onclick="openSection('works')">üéµ –†–∞–±–æ—Ç—ã</button>
    <button onclick="openSection('price')">üí∞ –ü—Ä–∞–π—Å</button>
    <button onclick="openSection('about')">üí¨ –û –Ω–∞—Å</button>
  </div>

  <!-- –†–∞–∑–¥–µ–ª –Ω–∞–π—Ç–∏ –ø–µ—Å–Ω—é -->
  <div class="section" id="find">
    <h1>üîç –ù–∞–π—Ç–∏ —Å–≤–æ—é –ø–µ—Å–Ω—é</h1>
    <div id="searchBox">
      <p>–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –≤–∞—à–µ–π –ø–µ—Å–Ω–∏:</p>
      <input type="text" id="songCode" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 456">
      <button onclick="findSong()">–ù–∞–π—Ç–∏</button>
    </div>

    <div id="songInfo" style="display:none; margin-top:20px;">
      <h2 id="songTitle"></h2>
      <audio id="demoPlayer" controls style="margin:10px 0; width:90%; max-width:400px;"></audio>
      <div id="buySection"></div>
    </div>

    <div id="successInfo" style="display:none; margin-top:20px;">
      <h2>‚úÖ –û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!</h2>
      <p>–í–∞—à–∞ –ø–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–µ—Å–Ω–∏ –≥–æ—Ç–æ–≤–∞:</p>
      <audio id="fullPlayer" controls style="margin:10px 0; width:90%; max-width:400px;"></audio>
      <a id="downloadLink" class="download-btn" download>‚¨á –°–∫–∞—á–∞—Ç—å –ø–µ—Å–Ω—é</a>
      <button onclick="goBack()">‚¨Ö –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
    </div>

    <button onclick="goBack()">‚¨Ö –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
  </div>

  <!-- –†–∞–∑–¥–µ–ª —Ä–∞–±–æ—Ç—ã -->
  <div class="section" id="works">
    <div class="works-header">
      <h1>üéµ –ù–∞—à–∏ —Ä–∞–±–æ—Ç—ã</h1>
      <p>–ü–æ—Å–ª—É—à–∞–π—Ç–µ –Ω–∞—à–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ–Ω—Ä–∞–≤–∏–≤—à—É—é—Å—è –ø–µ—Å–Ω—é</p>
    </div>
    
    <div class="works-container" id="worksContainer">
      <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ä–∞–±–æ—Ç –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
    </div>
    
    <button class="fixed-back-button" onclick="goBack()">‚¨Ö –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
  </div>

  <!-- –†–∞–∑–¥–µ–ª –ø—Ä–∞–π—Å -->
  <div class="section" id="price">
    <div class="works-header">
      <h1>üí∞ –ü—Ä–∞–π—Å</h1>
      <p>–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –ø–ª–∞–Ω –¥–ª—è –≤–∞—à–µ–π –ø–µ—Å–Ω–∏</p>
    </div>
    
    <div class="price-container">
      <div class="price-plan">
        <h2>üå± –ü–ª–∞–Ω ¬´–°—Ç–∞—Ä—Ç¬ª ‚Äî 500 ‚ÇΩ</h2>
        <p>
          ‚Ä¢ –ù–µ–ø–æ–ª–Ω–∞—è –ø–µ—Å–Ω—è: –∫—É–ø–ª–µ—Ç + –ø—Ä–∏–ø–µ–≤<br>
          ‚Ä¢ 1 —Ç–µ–∫—Å—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π<br>
          ‚Ä¢ 1 –≥–æ—Ç–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–µ—Å–Ω–∏<br>
          –ò–¥–µ–∞–ª—å–Ω–æ, —á—Ç–æ–±—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –∫–æ—Ä–æ—Ç–∫—É—é –∏–¥–µ—é üí´
        </p>
        <button onclick="buyPlan('–°—Ç–∞—Ä—Ç', 5)">üí≥ –û–ø–ª–∞—Ç–∏—Ç—å</button>
      </div>

      <div class="price-plan">
        <h2>üå∏ –ü–ª–∞–Ω ¬´–ò—Å—Ç–æ—Ä–∏—è¬ª ‚Äî –æ—Ç 900 ‚ÇΩ</h2>
        <p>
          ‚Ä¢ –°—Ä–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è: –∏–Ω—Ç—Ä–æ, –∫—É–ø–ª–µ—Ç 1, –ø—Ä–∏–ø–µ–≤, –∫—É–ø–ª–µ—Ç 2, —Ñ–∏–Ω–∞–ª<br>
          ‚Ä¢ –î–æ 3 —Ç–µ–∫—Å—Ç–æ–≤ –ø–µ—Å–Ω–∏<br>
          ‚Ä¢ –î–æ 2 –ø—Ä–∞–≤–æ–∫ –ø–æ—Å–ª–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è<br>
          –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø—Ä–æ—Å—Ç–æ—Ç–æ–π –∏ –≥–ª—É–±–∏–Ω–æ–π ‚Äî –ø–µ—Å–Ω—è —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ–º üé∂
        </p>
        <button onclick="buyPlan('–ò—Å—Ç–æ—Ä–∏—è', 900)">üí≥ –û–ø–ª–∞—Ç–∏—Ç—å</button>
      </div>

      <div class="price-plan">
        <h2>üåü –ü–ª–∞–Ω ¬´–ü—Ä–µ–º–∏—É–º¬ª ‚Äî –æ—Ç 1500 ‚ÇΩ</h2>
        <p>
          ‚Ä¢ –ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è: –∏–Ω—Ç—Ä–æ, –∫—É–ø–ª–µ—Ç 1, –ø—Ä–∏–ø–µ–≤, –∫—É–ø–ª–µ—Ç 2, –±—Ä–∏–¥–∂, –ø—Ä–∏–ø–µ–≤, —Ñ–∏–Ω–∞–ª<br>
          ‚Ä¢ –î–æ 5 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ç–µ–∫—Å—Ç–∞<br>
          ‚Ä¢ –î–æ 5 –ø—Ä–∞–≤–æ–∫ –ø–æ—Å–ª–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è<br>
          –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∞ ‚Äî –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –∏ –ø–µ—Ä–µ—Ö–æ–¥ –∑–≤—É—á–∞—Ç –∏–¥–µ–∞–ª—å–Ω–æ üî•
        </p>
        <button onclick="buyPlan('–ü—Ä–µ–º–∏—É–º', 1500)">üí≥ –û–ø–ª–∞—Ç–∏—Ç—å</button>
      </div>
    </div>

    <button class="fixed-back-button" onclick="goBack()">‚¨Ö –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
  </div>

  <!-- –†–∞–∑–¥–µ–ª –æ –Ω–∞—Å -->
  <div class="section" id="about">
    <h1>üí¨ –û –Ω–∞—Å</h1>
    <p>¬´–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –î–æ–º¬ª ‚Äî –∫–æ–º–∞–Ω–¥–∞, —Å–æ–∑–¥–∞—é—â–∞—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–µ—Å–Ω–∏ –Ω–∞ –∑–∞–∫–∞–∑. –ú—ã –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º —á—É–≤—Å—Ç–≤–∞, –∏—Å—Ç–æ—Ä–∏–∏ –∏ —ç–º–æ—Ü–∏–∏ –≤ –º—É–∑—ã–∫—É.</p>
    
    <div class="social-container">
      <a href="https://vk.com/musicsdom" class="social-card" target="_blank">
        <div class="social-icon">üìò</div>
        <div class="social-name">VK</div>
      </a>
      <a href="https://t.me/musikcdombot" class="social-card" target="_blank">
        <div class="social-icon">üì±</div>
        <div class="social-name">Telegram</div>
      </a>
      <a href="https://chat.whatsapp.com/E8HqcDTajiNE7FUd4Y65Vi?mode=wwt" class="social-card" target="_blank">
        <div class="social-icon">üí¨</div>
        <div class="social-name">WhatsApp</div>
      </a>
    </div>

    <button onclick="goBack()">‚¨Ö –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
  </div>

<script>
    const workerUrl = "https://musicdom-payment.vercel.app/";
    
    const songs = [
      {
        code: "456",
        title: "–ü–µ—Å–Ω—è –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –î–æ–º",
        description: "–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –æ—Ç –ú—É–∑—ã–∫–∞–ª—å–Ω–æ–≥–æ –î–æ–º–∞",
        image: "logo.jpg",
        demo: "song/song456_demo.mp3",
        full: "song/song456_full.mp3",
        price: 10
      },
      {
        code: "123",
        title: "–ü–µ—Å–Ω—è –¥–ª—è –ú–∞–∫—Å–∏–º–∞",
        description: "–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–µ—Å–Ω—è, —Å–æ–∑–¥–∞–Ω–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –ú–∞–∫—Å–∏–º–∞",
        image: "üé∂",
        demo: "songs/song123_demo.mp3",
        full: "songs/song123_full.mp3",
        price: 200
      }
    ];

    // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º—É–∑—ã–∫–æ–π
    let isBackgroundMusicPlaying = false;
    let wasBackgroundMusicPlaying = false;
    let musicInitialized = false;

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º—É–∑—ã–∫–∏
    function initializeMusic() {
      if (musicInitialized) return;
      
      const backgroundMusic = document.getElementById('backgroundMusic');
      const musicToggle = document.getElementById('musicToggle');
      
      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≥—Ä–æ–º–∫–æ—Å—Ç—å –Ω–∞ 60% (0.6)
      backgroundMusic.volume = 0.6;
      
      // –ü—ã—Ç–∞–µ–º—Å—è –≤–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
      const playPromise = backgroundMusic.play();
      
      if (playPromise !== undefined) {
        playPromise.then(() => {
          // –ú—É–∑—ã–∫–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω–∞
          musicToggle.textContent = 'üéµ';
          isBackgroundMusicPlaying = true;
          musicInitialized = true;
          showMusicNotification('–ú—É–∑—ã–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞ üéµ');
        }).catch(error => {
          // –ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
          console.log('–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É –≤—Ä—É—á–Ω—É—é.');
          musicToggle.textContent = 'üîá';
          isBackgroundMusicPlaying = false;
          showMusicNotification('–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –º—É–∑—ã–∫–∏ üéµ');
        });
      }
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –º—É–∑—ã–∫–µ
    function showMusicNotification(message) {
      // –£–¥–∞–ª—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –µ—Å–ª–∏ –æ–Ω–æ –µ—Å—Ç—å
      const existingNotification = document.querySelector('.music-notification');
      if (existingNotification) {
        existingNotification.remove();
      }
      
      // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
      const notification = document.createElement('div');
      notification.className = 'music-notification';
      notification.textContent = message;
      document.body.appendChild(notification);
      
      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã
      setTimeout(() => {
        if (notification.parentNode) {
          notification.remove();
        }
      }, 4000);
    }

    // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º—É–∑—ã–∫–∏
    function toggleMusic() {
      const backgroundMusic = document.getElementById('backgroundMusic');
      const musicToggle = document.getElementById('musicToggle');
      
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º—É–∑—ã–∫—É –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –Ω–∞–∂–∞—Ç–∏–∏, –µ—Å–ª–∏ –µ—â–µ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
      if (!musicInitialized) {
        initializeMusic();
        return;
      }
      
      if (backgroundMusic.paused) {
        backgroundMusic.play();
        musicToggle.textContent = 'üéµ';
        isBackgroundMusicPlaying = true;
        showMusicNotification('–ú—É–∑—ã–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞ üéµ');
      } else {
        backgroundMusic.pause();
        musicToggle.textContent = 'üîá';
        isBackgroundMusicPlaying = false;
        showMusicNotification('–ú—É–∑—ã–∫–∞ –≤—ã–∫–ª—é—á–µ–Ω–∞ üîá');
      }
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ–Ω–æ–≤–æ–π –º—É–∑—ã–∫–æ–π –ø—Ä–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏ –¥—Ä—É–≥–∏—Ö –∞—É–¥–∏–æ
    function setupAudioControl(audioElement) {
      const backgroundMusic = document.getElementById('backgroundMusic');
      
      audioElement.addEventListener('play', function() {
        if (isBackgroundMusicPlaying) {
          backgroundMusic.pause();
          wasBackgroundMusicPlaying = true;
        }
      });

      audioElement.addEventListener('pause', function() {
        if (wasBackgroundMusicPlaying && !this.ended) {
          backgroundMusic.play();
          wasBackgroundMusicPlaying = false;
        }
      });

      audioElement.addEventListener('ended', function() {
        if (wasBackgroundMusicPlaying) {
          backgroundMusic.play();
          wasBackgroundMusicPlaying = false;
        }
      });
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –∞—É–¥–∏–æ –Ω–∞ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö
    function setupAllAudioControls() {
      const allAudioElements = document.querySelectorAll('audio:not(#backgroundMusic)');
      allAudioElements.forEach(audio => {
        setupAudioControl(audio);
      });
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫—É–ø–∫–∏ —Ä–∞–±–æ—Ç—ã
    function buyWork(code, price) {
      window.open(`${workerUrl}/?code=${code}&price=${price}`, '_blank');
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –ø–ª–∞–Ω–∞
    function buyPlan(plan, price) {
      window.open(`${workerUrl}/?plan=${encodeURIComponent(plan)}&planPrice=${price}`, '_blank');
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç
    function renderWorks() {
      const worksContainer = document.getElementById('worksContainer');
      worksContainer.innerHTML = '';
      
      songs.forEach(song => {
        const workCard = document.createElement('div');
        workCard.className = 'work-card';
        
        const imageContent = song.image.includes('.') 
          ? `<img src="${song.image}" alt="${song.title}" style="width:100%; height:100%; object-fit:cover; border-radius:12px;">`
          : song.image;
          
        workCard.innerHTML = `
          <div class="work-image">${imageContent}</div>
          <div class="work-title">${song.title}</div>
          <div class="work-description">${song.description}</div>
          <div class="work-price">${song.price} ‚ÇΩ</div>
          <audio class="work-audio" controls>
            <source src="${song.demo}" type="audio/mpeg">
            –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç.
          </audio>
          <button class="buy-button" onclick="buyWork('${song.code}', ${song.price})">
            üí≥ –û–ø–ª–∞—Ç–∏—Ç—å
          </button>
        `;
        worksContainer.appendChild(workCard);
      });

      setTimeout(setupAllAudioControls, 100);
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–µ—Å–Ω–∏
    function findSong() {
      const code = document.getElementById('songCode').value.trim();
      const song = songs.find(s => s.code === code);
      
      if (!song) {
        alert("–ü–µ—Å–Ω—è —Å —Ç–∞–∫–∏–º –∫–æ–¥–æ–º –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ üò¢");
        return;
      }

      document.getElementById('songInfo').style.display = 'block';
      document.getElementById('songTitle').textContent = song.title;
      document.getElementById('demoPlayer').src = song.demo;

      document.getElementById('buySection').innerHTML = `
        <p>–¶–µ–Ω–∞: ${song.price}‚ÇΩ</p>
        <button onclick="buyWork('${song.code}', ${song.price})">üí≥ –û–ø–ª–∞—Ç–∏—Ç—å</button>
      `;

      setTimeout(() => {
        const demoPlayer = document.getElementById('demoPlayer');
        setupAudioControl(demoPlayer);
      }, 100);
    }

    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ä–∞–∑–¥–µ–ª–∞
    function openSection(id) {
      document.getElementById('menu').classList.remove('active');
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      
      if (id === 'works') {
        setTimeout(renderWorks, 100);
      }
    }

    // –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é
    function goBack() {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById('menu').classList.add('active');
      history.pushState({}, "", window.location.pathname);
    }

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º URL-–ø–∞—Ä–∞–º–µ—Ç—Ä success (–ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã)
    const urlParams = new URLSearchParams(window.location.search);
    const successCode = urlParams.get("success");
    
    if (successCode) {
      const song = songs.find(s => s.code === successCode);
      if (song) {
        document.querySelector('.loader').style.opacity = '0';
        document.getElementById('menu').classList.remove('active');
        const findSection = document.getElementById('find');
        findSection.classList.add('active');
        document.getElementById('searchBox').style.display = 'none';
        document.getElementById('successInfo').style.display = 'block';
        document.getElementById('fullPlayer').src = song.full;
        document.getElementById('downloadLink').href = song.full;

        setTimeout(() => {
          const fullPlayer = document.getElementById('fullPlayer');
          setupAudioControl(fullPlayer);
        }, 100);
      }
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    window.onload = function() {
      setTimeout(() => {
        document.querySelector('.loader').style.opacity = '0';
        document.getElementById('menu').classList.add('active');
        renderWorks();
        
        // –ü—ã—Ç–∞–µ–º—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
        initializeMusic();
        
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–æ–Ω—Ç—Ä–æ–ª—å –∞—É–¥–∏–æ –¥–ª—è –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        setupAllAudioControls();
      }, 2000);
    };
</script>
</body>
</html>
