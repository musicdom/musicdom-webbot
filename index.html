<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –î–æ–º</title>
  <style>
    * {margin: 0; padding: 0; box-sizing: border-box;}
    body {
      height: 100vh;
      font-family: 'Inter', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #a855f7, #ec4899, #f97316);
      background-size: 200% 200%;
      animation: gradientMove 10s ease infinite;
      color: white;
      overflow: hidden;
    }
    @keyframes gradientMove {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    .loader, .menu, .section {
      position: absolute;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      text-align: center;
      transition: opacity 1s ease;
      width: 100%;
      height: 100%;
      padding: 20px;
    }
    .loader img {
      width: 160px;
      height: auto;
      border-radius: 20px;
      box-shadow: 0 0 25px rgba(255,255,255,0.3);
    }
    .menu, .section {opacity: 0; pointer-events: none;}
    .menu.active, .section.active {opacity: 1; pointer-events: all;}

    /* –ö–Ω–æ–ø–∫–∏ */
    button {
      background: rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.3);
      color: white;
      font-size: 1.2rem;
      padding: 15px 40px;
      margin: 10px;
      border-radius: 40px;
      backdrop-filter: blur(15px);
      box-shadow: 0 0 20px rgba(255,255,255,0.15);
      cursor: pointer;
      transition: all 0.3s ease;
    }
    button:hover {
      background: rgba(255, 255, 255, 0.25);
      box-shadow: 0 0 25px rgba(255,255,255,0.25);
      transform: scale(1.03);
    }

    /* –ö–Ω–æ–ø–∫–∞ –æ–ø–ª–∞—Ç—ã ‚Äî –±–æ–ª–µ–µ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–∞—è */
    #buySection button {
      background: linear-gradient(135deg, rgba(255,255,255,0.25), rgba(255,255,255,0.1));
      border: 1px solid rgba(255,255,255,0.4);
      box-shadow: 0 0 30px rgba(255,255,255,0.2);
    }
    #buySection button:hover {
      background: linear-gradient(135deg, rgba(255,255,255,0.35), rgba(255,255,255,0.15));
      transform: scale(1.04);
    }

    h1 {margin-bottom: 15px;}
    p {max-width: 600px; font-size: 1rem; opacity: 0.9;}
    input {
      padding:10px 20px;
      border-radius:20px;
      border:none;
      font-size:1rem;
      margin:10px 0;
      text-align:center;
      background: rgba(255,255,255,0.2);
      color: white;
    }
    input::placeholder {color: rgba(255,255,255,0.7);}
    a.download-btn {
      background: rgba(255,255,255,0.2);
      color: white;
      padding: 10px 30px;
      border-radius: 25px;
      text-decoration: none;
      display: inline-block;
      margin-top: 10px;
      transition: all 0.3s;
    }
    a.download-btn:hover {background: rgba(255,255,255,0.35);}
  </style>
</head>
<body>
  <div class="loader">
    <img src="logo.jpg" alt="–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –î–æ–º">
  </div>

  <div class="menu" id="menu">
    <button onclick="openSection('works')">üéµ –†–∞–±–æ—Ç—ã</button>
    <button onclick="openSection('about')">üí¨ –û –Ω–∞—Å</button>
    <button onclick="openSection('find')">üîç –ù–∞–π—Ç–∏ —Å–≤–æ—é –ø–µ—Å–Ω—é</button>
  </div>

  <div id="content"></div>
  <script>
const workerUrl = "https://musicdom-pay.sasha12071998214.workers.dev/";

const songs = [
  { code: "456", title: "–ü–µ—Å–Ω—è –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –î–æ–º", demo: "songs/song456_demo.mp3", full: "songs/song456_full.mp3", price: 10 },
  { code: "123", title: "–ü–µ—Å–Ω—è –¥–ª—è –ú–∞–∫—Å–∏–º–∞", demo: "songs/song123_demo.mp3", full: "songs/song123_full.mp3", price: 200 }
];

window.onload = function() {
  setTimeout(() => {
    document.querySelector('.loader').style.opacity = '0';
    document.getElementById('menu').classList.add('active');
  }, 2000);
};

function openSection(id) {
  document.getElementById('menu').classList.remove('active');
  loadSection(id);
}

function goBack() {
  document.getElementById('content').innerHTML = '';
  document.getElementById('menu').classList.add('active');
  history.pushState({}, "", window.location.pathname);
}

async function loadSection(id) {
  const content = document.getElementById('content');
  content.innerHTML = '<p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>';

  try {
    const response = await fetch(`${id}.html`);
    const html = await response.text();
    content.innerHTML = html;
    // –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∏ —Å—Ç–∏–ª–∏
    const section = content.querySelector('.section');
    if (section) section.classList.add('active');
  } catch (e) {
    content.innerHTML = '<p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞–∑–¥–µ–ª–∞ üò¢</p>';
  }
}
</script>


  <div class="section" id="about">
    <h1>üí¨ –û –Ω–∞—Å</h1>
    <p>¬´–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –î–æ–º¬ª ‚Äî –∫–æ–º–∞–Ω–¥–∞, —Å–æ–∑–¥–∞—é—â–∞—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–µ—Å–Ω–∏ –Ω–∞ –∑–∞–∫–∞–∑. –ú—ã –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º —á—É–≤—Å—Ç–≤–∞, –∏—Å—Ç–æ—Ä–∏–∏ –∏ —ç–º–æ—Ü–∏–∏ –≤ –º—É–∑—ã–∫—É.</p>
    <button onclick="goBack()">‚¨Ö –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
  </div>

  <div class="section" id="find">
    <h1>üîç –ù–∞–π—Ç–∏ —Å–≤–æ—é –ø–µ—Å–Ω—é</h1>
    <div id="searchBox">
      <p>–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –≤–∞—à–µ–π –ø–µ—Å–Ω–∏:</p>
      <input type="text" id="songCode" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 456">
      <button onclick="findSong()">–ù–∞–π—Ç–∏</button>
    </div>

    <div id="songInfo" style="display:none; margin-top:20px;">
      <h2 id="songTitle"></h2>
      <audio id="demoPlayer" controls style="margin:10px 0; width:90%; max-width:400px;"></audio>
      <div id="buySection"></div>
    </div>

    <div id="successInfo" style="display:none; margin-top:20px;">
      <h2>‚úÖ –û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!</h2>
      <p>–í–∞—à–∞ –ø–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–µ—Å–Ω–∏ –≥–æ—Ç–æ–≤–∞:</p>
      <audio id="fullPlayer" controls style="margin:10px 0; width:90%; max-width:400px;"></audio>
      <a id="downloadLink" class="download-btn" download>‚¨á –°–∫–∞—á–∞—Ç—å –ø–µ—Å–Ω—é</a>
      <button onclick="goBack()">‚¨Ö –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
    </div>

    <button onclick="goBack()">‚¨Ö –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
  </div>

  <script>
  const workerUrl = "https://musicdom-pay.sasha12071998214.workers.dev/";

  const songs = [
    { code: "456", title: "–ü–µ—Å–Ω—è –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –î–æ–º", demo: "songs/song456_demo.mp3", full: "songs/song456_full.mp3", price: 10 },
    { code: "123", title: "–ü–µ—Å–Ω—è –¥–ª—è –ú–∞–∫—Å–∏–º–∞", demo: "songs/song123_demo.mp3", full: "songs/song123_full.mp3", price: 200 }
  ];

  const urlParams = new URLSearchParams(window.location.search);
  const successCode = urlParams.get("success");
  if (successCode) {
    const song = songs.find(s => s.code === successCode);
    if (song) {
      document.querySelector('.loader').style.opacity = '0';
      document.getElementById('menu').classList.remove('active');
      const findSection = document.getElementById('find');
      findSection.classList.add('active');
      document.getElementById('searchBox').style.display = 'none';
      document.getElementById('successInfo').style.display = 'block';
      document.getElementById('fullPlayer').src = song.full;
      document.getElementById('downloadLink').href = song.full;
    }
  }

  function findSong() {
    const code = document.getElementById('songCode').value.trim();
    const song = songs.find(s => s.code === code);
    if (!song) return alert("–ü–µ—Å–Ω—è —Å —Ç–∞–∫–∏–º –∫–æ–¥–æ–º –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ üò¢");

    document.getElementById('songInfo').style.display = 'block';
    document.getElementById('songTitle').textContent = song.title;
    document.getElementById('demoPlayer').src = song.demo;

    document.getElementById('buySection').innerHTML = `
      <p>–¶–µ–Ω–∞: ${song.price}‚ÇΩ</p>
      <a href="${workerUrl}/?code=${song.code}&price=${song.price}" target="_blank">
        <button>üí≥ –û–ø–ª–∞—Ç–∏—Ç—å —á–µ—Ä–µ–∑ –ÆMoney</button>
      </a>
    `;
  }

  window.onload = function() {
    setTimeout(() => {
      document.querySelector('.loader').style.opacity = '0';
      document.getElementById('menu').classList.add('active');
    }, 2000);
  };

  function openSection(id) {
    document.getElementById('menu').classList.remove('active');
    document.getElementById(id).classList.add('active');
  }

  function goBack() {
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.getElementById('menu').classList.add('active');
    history.pushState({}, "", window.location.pathname);
  }
  </script>
</body>
</html>
